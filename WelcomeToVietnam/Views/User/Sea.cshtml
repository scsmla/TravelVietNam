@using PagedList;
@using PagedList.Mvc;
@model IPagedList<WelcomeToVietnam.Models.Place>
@{
    ViewBag.Title = "Sea";
}
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="~/Content/Sea.css" />
<script src="~/scripts/jquery-3.1.1.js"></script>
<script src="~/scripts/jquery-3.1.1.min.js"></script>
<h2>Sea</h2>
@using (Html.BeginForm("Sea", "User", FormMethod.Get))
{
    <b>Sort By</b>
    @Html.RadioButton("sortBy", "VisitorPerYear")<text>VisitorPerYear</text>
    @Html.RadioButton("sortBy", "Rating", true)<text>Rating</text>
    <br />
    <input type="submit" value="Sort Now" style="background:transparent; height: 50px; color: white; width: 100px " class="button" />
}

@foreach (var item in Model)
{
    <div class="col-sm-4">
        <div id="@item.ID" class="thumbnail" style="margin-top:80px">
            @{
                var base64 = Convert.ToBase64String(item.Photos);
                var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
            }
            <a href="@Url.Action("DetailsPlaceAndBookSeat", "User", new { id = item.ID })">
                <div class="flip-container" ontouchstart="this.classList.toggle('hover');">
                    <div class="flipper">
                        <img class="front" src="@imgSrc">
                        <div class="back">
                            <div class="back-logo"></div>
                            <div class="back-title"></div>
                            <div class="itemName">@item.Name</div>
                            <br />
                            <div class="itemLocation">Location:@item.Location</div>
                            <br />
                            <div class="itemRating">
                                Rating
                                <div class="rating" style="text-align:center">
                                    <span class="star1"></span>
                                    <span class="star2"></span>
                                    <span class="star3"></span>
                                    <span class="star4"></span>
                                    <span class="star5"></span>
                                </div>
                                <div class="demo"></div>
                                <div class="demo2"></div>

                            </div>
                            <br />
                            <p class="itemWiki"><a href="https://en.wikipedia.org/wiki/@item.Name" target="_blank">Wikipedia</a></p>
                        </div>
                    </div>
                </div>
                <div id="demo"></div>
            </a>
        </div>
    </div>
   <script>
       var rating = Math.floor(@item.Rating);
       for (i = 1; i <= 5; i++) {
           var targetStar = document.getElementById("@item.ID").getElementsByClassName("star" + (6 - i));
           if (i <= rating) {
               targetStar[0].innerHTML = "&starf;";
           }
           else {
               targetStar[0].innerHTML = "☆";
           }
       }
   </script>
}
@Html.PagedListPager(Model, page => Url.Action("Sea", new
{
    page,
    sortBy = Request.QueryString["sortBy"],
    search = Request.QueryString["search"]
}),
    new PagedListRenderOptions() { Display = PagedListDisplayMode.IfNeeded })